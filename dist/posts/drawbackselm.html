<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Challenges in Elm</title>
    <meta name="Description" content="Author: Marc Coquand" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/tachyons@4.10.0/css/tachyons.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Scheherazade:400,700"
      rel="stylesheet"
    />

    <link
      href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/css/style.css" />
  </head>
  <body>
    <header class="pb2 mh3 mt4-ns mw7-ns pb6-ns mh5-ns dark-gray">
      <h3 class="f6 gotham upcase ttu f mid-gray w5 tracked">
        <a href="/" class="link dark-gray hover-moon-gray">Marc Coquand</a>
        <b>/</b> Article
      </h3>
    </header>
    <article class="article dark-gray pb4 pb6-ns mh3">
      <div class="dashed-list f3 pb3 fw5 mw6-ns auto ">
        <h1 class="firamono ttu tracked-mega f2 pb4-ns fw7 lh-copy">
          Challenges in Elm
        </h1>
        <hr />
        <p class="fw4 f3 pb0 pt3-ns firamono mid-gray tracked-mega">2019-05-03</p>
        <p>People who know me in real life know that I always rave about Elm and how incredible the language is. But, alas in software engineering there is no such thing as a silver bullet. Elm does have it's drawbacks and I am going to list some of them here which can pose a problem.</p>
<h3 id="testing-elm-is-actually-not-that-easy">Testing Elm is actually not that easy</h3>
<p>There are parts of the software that Elm's type system can not guarantee are error free and where regressions can sneak in. For example if our program interacts with a REST api and the endpoints change, the program would stop working. In Elm, there is no way to write any test to check for this. The reason is because Elm is a pure language that does not execute any side effects. Elm has no way of writing integration tests. To write integration tests in Elm there must be a way to execute commands and ensure that right they return the correct response. This is also integral to writing property-based tests for state machines, where we model the side effects with a pure implementation and compare the effectful model to the pure model and ensure they function the same way for any data.</p>
<p>Allowing us to execute the side effects would also allow for rapid End2End tests as then we could feed update an initial model and a set of commands and ensure that at the end we get the correct resulting model. This would make quality assurance a lot easier and allow us to verify that the program follows the specification by testing that the user stories are doable.</p>
<p>Almost all projects I have looked at in Elm have little to no tests. In <a href="https://github.com/rtfeldman/elm-spa-example">Richard Feldman's SPA example</a> we find that he only tests one module in the entire software. The mantra seems to be that it is overkill to test Elm systems. Perhaps there is a case to be made that integration tests in Elm are not worth their costs. In my experience any bug you find while manually testing is trivial to fix and would not have shown up in any unit test. I suspect that other people consider the same thing so they do not bother. I find this to be a big red flag however.</p>
<h3 id="sometimes-you-actually-want-to-encapsulate-state">Sometimes you actually want to encapsulate state</h3>
<p>If you look at a lot of published elm sites you will find that a lot of them use almost no animations. Looking at websites such as <a href="www.noredink.com" class="uri">www.noredink.com</a> and <a href="www.elm-lang.org" class="uri">www.elm-lang.org</a>, all the interactive parts had no transitions or animations. It turns out that animating in Elm is a tedious endeavour. For each transition in the animation it must be sent to the global update function and our global model must also keep track of the transition itself. This adds a lot of noise and boilerplate to our code. In a big projects, do we want the entire system to concern itself with animations of a button? There can be a lot of animations and transitions, and each one of them must go through the update function and Msg type across multiple files for large projects. This is a place where techniques from OOP can come in handy. OOP is good at a modeling stateful system that transition gracefully between internal positions. Good examples of this is a button animation going from untouched to hovered. It will not affect the main state at all. Another example is the evolution of a database cursor, where it moves from not being in the middle of a transaction to moving to one that is. That is, sometimes model a resource as being managed rather than a value being transformed.</p>
<h3 id="no-communication-on-what-will-change">No communication on what will change</h3>
<p>When a new version of Elm comes out, all packages need to explicitly be updated to the latest version, even if they do not need modifications. In the transition from Elm 0.18 to Elm 0.19 they removed user defined infix operators. While I applaud this change, these deprecations were not communicated unless you explicitly asked in the Slack channel. It makes it very scary to depend on libraries and also makes it harder to prepare for changes to come.</p>
<h3 id="all-communication-goes-via-the-slack-channel">All communication goes via the Slack channel</h3>
<p>The official Slack channel is where most Elm people hang out. This means that common questions can not be found on Stackoverflow but must instead be asked in the channel. This is horribly inefficient and results in people asking the same questions over and over again. It also makes it seem like the community is dead with little activity happening in the other channels.</p>
        <a href="/" class="f3 article-size link skobeloff hover-moon-gray fw4"
          >â€¹ View more posts</a
        >
      </div>
    </article>
  </body>
</html>
